Problema 1
/
/
/
#include <stdio.h>
#include <stdlib.h>

int stringToNumber(const char *str) {
    int result = 0;
    int sign = 1;
    int i = 0;
    if (str[0] == '-') {
        sign = -1;
        i++;
    }
    while (str[i] != '\0') {
        result = result * 10 + (str[i] - '0');
        i++;
    }

    return sign * result;
}

int main() {
    FILE *file;
    char line[100];
    int sum = 0;
    file = fopen("in.txt", "r");
    if (file == NULL) {
        printf("file corrupted");
        return 1;
    }
    while (fgets(line, sizeof(line), file)) {
        int i = 0;
        int numStart = 0;
        int numEnd = 0;
        int lineSum = 0;

        while (line[i] != '\0') {
            if ((line[i] >= '0' && line[i] <= '9') || line[i] == '-') {
                numStart = i;
                while ((line[i] >= '0' && line[i] <= '9') || line[i] == '-') {
                    i++;
                }
                numEnd = i;
                lineSum += stringToNumber(&line[numStart]);
            } else {
                i++;
            }
        }
        printf("Sum of numbers on line: %d\n", lineSum);
        sum += lineSum;
    }
    printf("Total sum: %d\n", sum);
    fclose(file);
    return 0;
}
/
/
/
/
/
/
/
/
/
/
/
/
/
/
/
